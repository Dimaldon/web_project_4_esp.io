!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.overlayElement=t}var n,r;return n=e,(r=[{key:"handleOverlay",value:function(){this.overlayElement.classList.toggle("overlay__visible")}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this._identificaOverlayAbierto()&&this.handleOverlay()}},{key:"_identificaOverlayAbierto",value:function(){return this.overlayElement.className.indexOf("overlay__visible")>-1}},{key:"setEventListeners",value:function(){var e=this;this.overlayElement.addEventListener("click",(function(t){t.target!==e.overlayElement&&-1==t.target.className.indexOf("overlay__form-close-button")||e._identificaOverlayAbierto()&&e.handleOverlay()}))}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},i.apply(this,arguments)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(f,e);var t,n,l,c,s=(l=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(l);if(c){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function f(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),s.call(this,e)}return t=f,(n=[{key:"handleOverlay",value:function(e,t){this.imagePreview=document.querySelector(".overlay__preview-image"),this.imagePreview.src=e,this.imagePreview.alt=t,this.imageCaption=document.querySelector(".overlay__preview-caption"),this.imageCaption.textContent=t,i(u(f.prototype),"handleOverlay",this).call(this)}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(n);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===c(o)?o:String(o)),r)}var o}var f=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cardData=t,this.link=t.link,this.name=t.name,this.likes=t.likes,this.myCard=n,this.handleDeleteClick=r,this.handleLikeAdd=o,this.handleLikeDelete=i}var t,n;return t=e,(n=[{key:"handleRemoveLike",value:function(){this.btnLike.classList.remove("content__elements__button-like-active")}},{key:"handleAddLike",value:function(){this.btnLike.classList.add("content__elements__button-like-active")}},{key:"_deleteCard",value:function(){this.element.remove()}},{key:"_setEvents",value:function(){var e=this;this.btnLike.addEventListener("click",(function(){e.btnLike.className.indexOf("content__elements__button-like-active")>-1?e.handleLikeDelete(e.cardData._id):e.handleLikeAdd(e.cardData._id)})),this.btnDelete.addEventListener("click",(function(){e.handleDeleteClick(e.cardData._id)})),this.cardImage.onclick=function(){var t=document.querySelector("#overlayCardPreview");new l(t).handleOverlay(e.link,e.name)}}},{key:"setCardLikes",value:function(){this.cardLikes.textContent=this.likes.length}},{key:"generateCard",value:function(){var e=document.querySelector(".card__template");return this.cardItem=e.content.cloneNode(!0),this.element=this.cardItem.querySelector(".elements"),this.cardImage=this.element.querySelector(".content__elements-image"),this.cardTitle=this.element.querySelector(".content__elements-title"),this.cardLikes=this.element.querySelector(".content__elements__numbers-like"),this.btnLike=this.element.querySelector(".content__elements__button-like"),this.btnDelete=this.cardItem.querySelector(".content__elements__delete-button"),this.myCard||this.btnDelete.remove(),this.cardImage.src=this.link,this.cardTitle.textContent=this.name,this.setCardLikes(),this._setEvents(),this.element}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function d(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}var p=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"_showInputError",(function(e,t){r.errorElement=r.eValidateForm.querySelector(".".concat(e.id,"-error")),e.classList.add("form__input_type_error"),r.errorElement.textContent=t,r.errorElement.classList.add("form__input-error_active")})),d(this,"_hideInputError",(function(e){r.errorElement=r.eValidateForm.querySelector(".".concat(e.id,"-error")),e.classList.remove("form__input_type_error"),r.errorElement.classList.remove("form__input-error_active"),r.errorElement.textContent=""})),d(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e,e.validationMessage)})),d(this,"_hasInvalidInput",(function(){return r.inputList.some((function(e){return!e.validity.valid}))})),d(this,"_toggleButtonState",(function(){r._hasInvalidInput()?(r.buttonElement.classList.add("overlay__form-button-disabled"),r.buttonElement.disabled=!0):(r.buttonElement.classList.remove("overlay__form-button-disabled"),r.buttonElement.disabled=!1)})),d(this,"_setEventListeners",(function(){var e=r;r.inputList=Array.from(r.eValidateForm.querySelectorAll(r.oValidateInputs.input)),r.buttonElement=r.eValidateForm.querySelector(r.oValidateInputs.button),r._toggleButtonState(),r.inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))})),this.oValidateInputs=t,this.eValidateForm=n}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){this.eValidateForm.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e){document.querySelector(e).classList.toggle("overlay__visible")}function h(){return document.getElementsByClassName("overlay__visible").length>0?document.getElementsByClassName("overlay__visible")[0].id:null}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}document.querySelectorAll(".overlay").forEach((function(e){e.addEventListener("click",(function(t){t.target!==e&&-1==t.target.className.indexOf("overlay__form-close-button")||null!=h()&&b("#"+h())}))})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&null!=h()&&b("#"+h())}));var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseURL=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return fetch(this._baseURL+"/cards",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getInitialUserMe",value:function(){return fetch(this._baseURL+"/users/me",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"patchInitialUserMe",value:function(e,t){return fetch(this._baseURL+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"postNewCard",value:function(e,t){return fetch(this._baseURL+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"deleteCard",value:function(e){return fetch(this._baseURL+"/cards/"+e,{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"putLikeButtonCard",value:function(e){return fetch(this._baseURL+"/cards/likes/"+e,{method:"PUT",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"deleteLikeButtonCard",value:function(e){return fetch(this._baseURL+"/cards/likes/"+e,{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"updateUserMeAvatar",value:function(e){return fetch(this._baseURL+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===S(o)?o:String(o)),r)}var o}var j=function(){function e(t){var n=t.nameElement,r=t.jobElement,o=t.imagenElement,i=t.name,a=t.job,u=t.imagen;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nameElement=n,this.jobElement=r,this.imagenElement=o,this.name=i,this.job=a,this.imagen=u}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this.name,job:this.job,imagen:this.imagen}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job,r=e.imagen;this.name=t,this.job=n,this.imagen=r,this.nameElement.textContent=this.name,this.jobElement.textContent=this.job,this.imagenElement.src=this.imagen}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===k(o)?o:String(o)),r)}var o}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},P.apply(this,arguments)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._handleImageFormDelete,t}return t=a,(n=[{key:"setHandleImageFormDelete",value:function(e){this._handleImageFormDelete=e}},{key:"setEventListeners",value:function(){var e=this;P(C(a.prototype),"setEventListeners",this).call(this),document.querySelector("#FormCardDelete").addEventListener("submit",(function(){e._handleImageFormDelete()}))}}])&&O(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(n);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===R(o)?o:String(o)),r)}var o}function U(){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},U.apply(this,arguments)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var B,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e)).handleFormSubmit=t,n.formImputs=e.querySelectorAll(".overlay__text-input"),n.formElement=e.querySelector(".overlay__form"),n.formButton=e.querySelector(".overlay__form-submit-button"),n}return t=a,(n=[{key:"_getInputValues",value:function(){this.formImputs.map((function(e){return e.value}))}},{key:"setButtonProcesing",value:function(){this.formButton.textContent="Guardando..."}},{key:"setButtonReset",value:function(){this.formButton.textContent=this.formButton.dataset.valordefault}},{key:"setEventListeners",value:function(){var e=this;U(T(a.prototype),"setEventListeners",this).call(this),this.formElement.addEventListener("submit",(function(t){t.preventDefault(),e.setButtonProcesing(),e.handleFormSubmit()}))}},{key:"handleOverlay",value:function(){U(T(a.prototype),"handleOverlay",this).call(this),this.formImputs.forEach((function(e){e.value=""}))}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(n),A=document.querySelector("#overlay__form-name"),F=document.querySelector("#overlay__form-job"),V=document.querySelector(".content__profile-title"),N=document.querySelector(".content__profile-description"),M=document.querySelector("#overlay__form-place"),H=document.querySelector("#overlay__form-imageURL"),J=document.querySelector("#overlay__form-avatar-update"),z=document.querySelector(".content__elements-grid"),G=document.querySelector(".content__profile-image"),K=new E({baseUrl:"https://around.nomoreparties.co/v1/web_es_cohort_03",headers:{authorization:"361c2497-73b4-4dd1-9a02-2225ff5963b5","Content-Type":"application/json"}});K.getInitialUserMe().then((function(e){var t=e.name,n=e.about,r=e.avatar;B=e._id;var o=new j({nameElement:V,jobElement:N,imagenElement:G,name:t,job:n,imagen:r});o.setUserInfo(o.getUserInfo()),function(){var e=document.querySelector(".content__elements-grid");K.getInitialCards().then((function(t){t.forEach((function(t){W({cardData:t,eContainer:e,idUser:B})}))})),Array.from(document.querySelectorAll(".overlay__form")).forEach((function(e){new p({input:".overlay__text-input",button:".overlay__form-submit-button"},e).enableValidation()}))}()})),G.addEventListener("click",(function(){var e=new x(document.querySelector("#overlayAvatarUpdate"),(function(){K.updateUserMeAvatar(J.value).then((function(t){var n=t.name,r=t.about,o=t.avatar,i=new j({nameElement:V,jobElement:N,imagenElement:G,name:n,job:r,imagen:o});i.setUserInfo(i.getUserInfo()),e.handleOverlay(),e.setButtonReset()}))}));e.setEventListeners(),e.handleOverlay()})),document.querySelector("#imageForm").addEventListener("submit",(function(e){e.preventDefault()})),document.querySelector(".content__profile-button-add").addEventListener("click",(function(){var e=new x(document.querySelector("#overlay__card-add"),(function(){K.postNewCard(M.value,H.value).then((function(t){W({cardData:t,eContainer:z,idUser:B}),e.handleOverlay(),e.setButtonReset()}))}));e.setEventListeners(),e.handleOverlay()})),document.querySelector("#imageAvatar").addEventListener("submit",(function(e){e.preventDefault(),K.updateUserMeAvatar(J.value).then((function(e){var t=e.name,n=e.about,r=e.avatar,o=new j({nameElement:V,jobElement:N,imagenElement:G,name:t,job:n,imagen:r});o.setUserInfo(o.getUserInfo()),b("#overlayAvatarUpdate")}))})),document.querySelector(".content__profile-button-edit").addEventListener("click",(function(){var e=new x(document.querySelector("#overlay__profile-edit"),(function(){K.patchInitialUserMe(A.value,F.value).then((function(t){var n=t.name,r=t.about,o=t.avatar,i=new j({nameElement:V,jobElement:N,imagenElement:G,name:n,job:r,imagen:o});i.setUserInfo(i.getUserInfo()),e.handleOverlay(),e.setButtonReset()}))}));e.setEventListeners(),e.handleOverlay()}));var Q=new I(document.querySelector("#overlayCardDelete"));function W(e){var t=new f(e.cardData,e.cardData.owner._id==e.idUser,(function(e){Q.handleOverlay(),Q.setHandleImageFormDelete((function(){K.deleteCard(e).then((function(){t._deleteCard(),Q.handleOverlay()}))}))}),(function(e){K.putLikeButtonCard(e).then((function(e){t.likes=e.likes,t.handleAddLike(),t.setCardLikes()}))}),(function(e){K.deleteLikeButtonCard(e).then((function(e){t.likes=e.likes,t.handleRemoveLike(),t.setCardLikes()}))}));e.eContainer.append(t.generateCard())}Q.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixHQUNGLElBQ0EsU0FBQzZKLEdBQ0N6QixFQUFJNkIsa0JBQWtCSixHQUFTcEUsTUFBSyxTQUFDOEMsR0FDbkNvQixFQUFLOUgsTUFBUTBHLEVBQUsxRyxNQUNsQjhILEVBQUtPLGdCQUNMUCxFQUFLN0csY0FDUCxHQUNGLElBQ0EsU0FBQytHLEdBQ0N6QixFQUFJK0IscUJBQXFCTixHQUFTcEUsTUFBSyxTQUFDOEMsR0FDdENvQixFQUFLOUgsTUFBUTBHLEVBQUsxRyxNQUNsQjhILEVBQUtTLG1CQUNMVCxFQUFLN0csY0FDUCxHQUNGLElBR0Y0RyxFQUFZYixXQUFXd0IsT0FBT1YsRUFBS1csZUFDckMsQ0FoQ0FiLEVBQWlCTCxtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLmlvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AuaW8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC5pby8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AuaW8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLmlvLy4vc3JjL2NvbXBvbmVudHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AuaW8vLi9zcmMvY29tcG9uZW50cy9hcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AuaW8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC5pby8uL3NyYy9jb21wb25lbnRzL1BvcFVwRGVsZXRlSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AuaW8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3Jtcy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC5pby8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKG92ZXJsYXlFbGVtZW50KSB7XG4gICAgdGhpcy5vdmVybGF5RWxlbWVudCA9IG92ZXJsYXlFbGVtZW50O1xuICB9XG5cbiAgaGFuZGxlT3ZlcmxheSgpIHtcbiAgICB0aGlzLm92ZXJsYXlFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJvdmVybGF5X192aXNpYmxlXCIpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5faWRlbnRpZmljYU92ZXJsYXlBYmllcnRvKCkgPyB0aGlzLmhhbmRsZU92ZXJsYXkoKSA6IG51bGw7XG4gICAgfVxuICB9XG5cbiAgX2lkZW50aWZpY2FPdmVybGF5QWJpZXJ0bygpIHtcbiAgICByZXR1cm4gdGhpcy5vdmVybGF5RWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZihcIm92ZXJsYXlfX3Zpc2libGVcIikgPiAtMTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMub3ZlcmxheUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBldmVudC50YXJnZXQgIT09IHRoaXMub3ZlcmxheUVsZW1lbnQgJiZcbiAgICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKFwib3ZlcmxheV9fZm9ybS1jbG9zZS1idXR0b25cIikgPT0gLTFcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9pZGVudGlmaWNhT3ZlcmxheUFiaWVydG8oKSA/IHRoaXMuaGFuZGxlT3ZlcmxheSgpIDogbnVsbDtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Iob3ZlcmxheUVsZW1lbnQpIHtcbiAgICBzdXBlcihvdmVybGF5RWxlbWVudCk7XG4gIH1cblxuICBoYW5kbGVPdmVybGF5KGxpbmssIG5hbWUpIHtcbiAgICB0aGlzLmltYWdlUHJldmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3ZlcmxheV9fcHJldmlldy1pbWFnZVwiKTtcbiAgICB0aGlzLmltYWdlUHJldmlldy5zcmMgPSBsaW5rO1xuICAgIHRoaXMuaW1hZ2VQcmV2aWV3LmFsdCA9IG5hbWU7XG4gICAgdGhpcy5pbWFnZUNhcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm92ZXJsYXlfX3ByZXZpZXctY2FwdGlvblwiKTtcbiAgICB0aGlzLmltYWdlQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgc3VwZXIuaGFuZGxlT3ZlcmxheSgpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4vUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGNhcmREYXRhLFxuICAgIG15Q2FyZCxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVMaWtlQWRkLFxuICAgIGhhbmRsZUxpa2VEZWxldGVcbiAgKSB7XG4gICAgdGhpcy5jYXJkRGF0YSA9IGNhcmREYXRhO1xuICAgIHRoaXMubGluayA9IGNhcmREYXRhLmxpbms7XG4gICAgdGhpcy5uYW1lID0gY2FyZERhdGEubmFtZTtcbiAgICB0aGlzLmxpa2VzID0gY2FyZERhdGEubGlrZXM7XG4gICAgdGhpcy5teUNhcmQgPSBteUNhcmQ7XG4gICAgdGhpcy5oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xuICAgIHRoaXMuaGFuZGxlTGlrZUFkZCA9IGhhbmRsZUxpa2VBZGQ7XG4gICAgdGhpcy5oYW5kbGVMaWtlRGVsZXRlID0gaGFuZGxlTGlrZURlbGV0ZTtcbiAgfVxuXG4gIGhhbmRsZVJlbW92ZUxpa2UoKSB7XG4gICAgdGhpcy5idG5MaWtlLmNsYXNzTGlzdC5yZW1vdmUoXCJjb250ZW50X19lbGVtZW50c19fYnV0dG9uLWxpa2UtYWN0aXZlXCIpO1xuICB9XG5cbiAgaGFuZGxlQWRkTGlrZSgpIHtcbiAgICB0aGlzLmJ0bkxpa2UuY2xhc3NMaXN0LmFkZChcImNvbnRlbnRfX2VsZW1lbnRzX19idXR0b24tbGlrZS1hY3RpdmVcIik7XG4gIH1cblxuICBfZGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XG4gIH1cblxuICBfc2V0RXZlbnRzKCkge1xuICAgIHRoaXMuYnRuTGlrZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmJ0bkxpa2UuY2xhc3NOYW1lLmluZGV4T2YoXG4gICAgICAgICAgXCJjb250ZW50X19lbGVtZW50c19fYnV0dG9uLWxpa2UtYWN0aXZlXCJcbiAgICAgICAgKSA+IC0xXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5oYW5kbGVMaWtlRGVsZXRlKHRoaXMuY2FyZERhdGEuX2lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGFuZGxlTGlrZUFkZCh0aGlzLmNhcmREYXRhLl9pZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmJ0bkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVEZWxldGVDbGljayh0aGlzLmNhcmREYXRhLl9pZCk7XG4gICAgfSk7XG4gICAgdGhpcy5jYXJkSW1hZ2Uub25jbGljayA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG92ZXJsYXlDYXJkUHJldmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3ZlcmxheUNhcmRQcmV2aWV3XCIpO1xuICAgICAgY29uc3QgcG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShvdmVybGF5Q2FyZFByZXZpZXcpO1xuICAgICAgcG9wdXBJbWFnZS5oYW5kbGVPdmVybGF5KHRoaXMubGluaywgdGhpcy5uYW1lKTtcbiAgICB9O1xuICB9XG5cbiAgc2V0Q2FyZExpa2VzKCkge1xuICAgIHRoaXMuY2FyZExpa2VzLnRleHRDb250ZW50ID0gdGhpcy5saWtlcy5sZW5ndGg7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190ZW1wbGF0ZVwiKTtcbiAgICB0aGlzLmNhcmRJdGVtID0gY2FyZFRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuY2FyZEl0ZW0ucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c1wiKTtcbiAgICB0aGlzLmNhcmRJbWFnZSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRfX2VsZW1lbnRzLWltYWdlXCIpO1xuICAgIHRoaXMuY2FyZFRpdGxlID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudF9fZWxlbWVudHMtdGl0bGVcIik7XG4gICAgdGhpcy5jYXJkTGlrZXMgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmNvbnRlbnRfX2VsZW1lbnRzX19udW1iZXJzLWxpa2VcIlxuICAgICk7XG4gICAgdGhpcy5idG5MaWtlID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5jb250ZW50X19lbGVtZW50c19fYnV0dG9uLWxpa2VcIlxuICAgICk7XG4gICAgdGhpcy5idG5EZWxldGUgPSB0aGlzLmNhcmRJdGVtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5jb250ZW50X19lbGVtZW50c19fZGVsZXRlLWJ1dHRvblwiXG4gICAgKTtcbiAgICBpZiAoIXRoaXMubXlDYXJkKSB0aGlzLmJ0bkRlbGV0ZS5yZW1vdmUoKTtcbiAgICB0aGlzLmNhcmRJbWFnZS5zcmMgPSB0aGlzLmxpbms7XG4gICAgdGhpcy5jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLm5hbWU7XG4gICAgdGhpcy5zZXRDYXJkTGlrZXMoKTtcbiAgICB0aGlzLl9zZXRFdmVudHMoKTtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Iob1ZhbGlkYXRlSW5wdXRzLCBlVmFsaWRhdGVGb3JtKSB7XG4gICAgdGhpcy5vVmFsaWRhdGVJbnB1dHMgPSBvVmFsaWRhdGVJbnB1dHM7XG4gICAgdGhpcy5lVmFsaWRhdGVGb3JtID0gZVZhbGlkYXRlRm9ybTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgIHRoaXMuZXJyb3JFbGVtZW50ID0gdGhpcy5lVmFsaWRhdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiKTtcbiAgICB0aGlzLmVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICB0aGlzLmVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlXCIpO1xuICB9O1xuXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICB0aGlzLmVycm9yRWxlbWVudCA9IHRoaXMuZVZhbGlkYXRlRm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIik7XG4gICAgdGhpcy5lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiKTtcbiAgICB0aGlzLmVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH07XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfTtcblxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLmlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwib3ZlcmxheV9fZm9ybS1idXR0b24tZGlzYWJsZWRcIik7XG4gICAgICB0aGlzLmJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm92ZXJsYXlfX2Zvcm0tYnV0dG9uLWRpc2FibGVkXCIpO1xuICAgICAgdGhpcy5idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICBjb25zdCBmdiA9IHRoaXM7XG4gICAgdGhpcy5pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5lVmFsaWRhdGVGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5vVmFsaWRhdGVJbnB1dHMuaW5wdXQpXG4gICAgKTtcbiAgICB0aGlzLmJ1dHRvbkVsZW1lbnQgPSB0aGlzLmVWYWxpZGF0ZUZvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMub1ZhbGlkYXRlSW5wdXRzLmJ1dHRvblxuICAgICk7XG5cbiAgICAvL2Rlc2FjdGl2YSBlbCBib3RvbiBkZSBzdWJtaXRcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuXG4gICAgLy9hZ3JlZ2EgbG9zIGV2ZW50b3MgZGUgZXNjdWNoYSBhIGNhZGEgaW5wdXRcbiAgICB0aGlzLmlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBmdi5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIGZ2Ll90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLmVWYWxpZGF0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIC8vZXN0YWJsZWNlIGxvcyBldmVudG9zIGRlIGVzY3VjaGEgcGFyYSBjYWRhIGZvcm11bGFyaW9cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXBXaXRoRm9ybXMgZnJvbSBcIi4vUG9wdXBXaXRoRm9ybXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZU92ZXJsYXkoaWQpIHtcbiAgY29uc3Qgb3ZlcmxheUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGlkKTtcbiAgb3ZlcmxheUVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShcIm92ZXJsYXlfX3Zpc2libGVcIik7XG59XG5cbi8vIGNpZXJyZSBjb24gdGVjbGEgWFxuY29uc3Qgb3ZlcmxheXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm92ZXJsYXlcIik7XG5vdmVybGF5cy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgIGlmIChcbiAgICAgIGV2ZW50LnRhcmdldCAhPT0gaXRlbSAmJlxuICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKFwib3ZlcmxheV9fZm9ybS1jbG9zZS1idXR0b25cIikgPT0gLTFcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWRlbnRpZmljYU92ZXJsYXlBYmllcnRvKCkgIT0gbnVsbFxuICAgICAgPyBoYW5kbGVPdmVybGF5KFwiI1wiICsgaWRlbnRpZmljYU92ZXJsYXlBYmllcnRvKCkpXG4gICAgICA6IG51bGw7XG4gIH0pO1xufSk7XG5cbi8vIGNpZXJyZSBjb24gdGVjbGEgZXNjYXBlXG5jb25zdCBrZXlkb3duTGlzdGVuZXIgPSAoZXZlbnQpID0+IHtcbiAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgIGlkZW50aWZpY2FPdmVybGF5QWJpZXJ0bygpICE9IG51bGxcbiAgICAgID8gaGFuZGxlT3ZlcmxheShcIiNcIiArIGlkZW50aWZpY2FPdmVybGF5QWJpZXJ0bygpKVxuICAgICAgOiBudWxsO1xuICB9XG59O1xuXG5mdW5jdGlvbiBpZGVudGlmaWNhT3ZlcmxheUFiaWVydG8oKSB7XG4gIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwib3ZlcmxheV9fdmlzaWJsZVwiKS5sZW5ndGggPiAwXG4gICAgPyBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwib3ZlcmxheV9fdmlzaWJsZVwiKVswXS5pZFxuICAgIDogbnVsbDtcbn1cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwga2V5ZG93bkxpc3RlbmVyKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAvLyBjdWVycG8gZGVsIGNvbnN0cnVjdG9yXG4gICAgdGhpcy5fYmFzZVVSTCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVVJMICsgXCIvY2FyZHNcIiwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICAvLyBzaSBlbCBzZXJ2aWRvciBkZXZ1ZWx2ZSB1biBlcnJvciwgcmVjaGF6YSBlbCBwcm9taXNlXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRJbml0aWFsVXNlck1lKCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVVJMICsgXCIvdXNlcnMvbWVcIiwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICAvLyBzaSBlbCBzZXJ2aWRvciBkZXZ1ZWx2ZSB1biBlcnJvciwgcmVjaGF6YSBlbCBwcm9taXNlXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICBwYXRjaEluaXRpYWxVc2VyTWUobmFtZSwgYWJvdXQpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVSTCArIFwiL3VzZXJzL21lXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgLy8gc2kgZWwgc2Vydmlkb3IgZGV2dWVsdmUgdW4gZXJyb3IsIHJlY2hhemEgZWwgcHJvbWlzZVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG5cbiAgcG9zdE5ld0NhcmQobmFtZSwgbGluaykge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVVJMICsgXCIvY2FyZHNcIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGxpbms6IGxpbmssXG4gICAgICB9KSxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICAvLyBzaSBlbCBzZXJ2aWRvciBkZXZ1ZWx2ZSB1biBlcnJvciwgcmVjaGF6YSBlbCBwcm9taXNlXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVVJMICsgXCIvY2FyZHMvXCIgKyBjYXJkSWQsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgLy8gc2kgZWwgc2Vydmlkb3IgZGV2dWVsdmUgdW4gZXJyb3IsIHJlY2hhemEgZWwgcHJvbWlzZVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG5cbiAgcHV0TGlrZUJ1dHRvbkNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVUkwgKyBcIi9jYXJkcy9saWtlcy9cIiArIGNhcmRJZCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICAvLyBzaSBlbCBzZXJ2aWRvciBkZXZ1ZWx2ZSB1biBlcnJvciwgcmVjaGF6YSBlbCBwcm9taXNlXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVMaWtlQnV0dG9uQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVSTCArIFwiL2NhcmRzL2xpa2VzL1wiICsgY2FyZElkLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIC8vIHNpIGVsIHNlcnZpZG9yIGRldnVlbHZlIHVuIGVycm9yLCByZWNoYXphIGVsIHByb21pc2VcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZVVzZXJNZUF2YXRhcihhdmF0YXIpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVSTCArIFwiL3VzZXJzL21lL2F2YXRhclwiLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgLy8gc2kgZWwgc2Vydmlkb3IgZGV2dWVsdmUgdW4gZXJyb3IsIHJlY2hhemEgZWwgcHJvbWlzZVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZUVsZW1lbnQsIGpvYkVsZW1lbnQsIGltYWdlbkVsZW1lbnQsIG5hbWUsIGpvYiwgaW1hZ2VuIH0pIHtcbiAgICB0aGlzLm5hbWVFbGVtZW50ID0gbmFtZUVsZW1lbnQ7XG4gICAgdGhpcy5qb2JFbGVtZW50ID0gam9iRWxlbWVudDtcbiAgICB0aGlzLmltYWdlbkVsZW1lbnQgPSBpbWFnZW5FbGVtZW50O1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5qb2IgPSBqb2I7XG4gICAgdGhpcy5pbWFnZW4gPSBpbWFnZW47XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4geyBuYW1lOiB0aGlzLm5hbWUsIGpvYjogdGhpcy5qb2IsIGltYWdlbjogdGhpcy5pbWFnZW4gfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgam9iLCBpbWFnZW4gfSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5qb2IgPSBqb2I7XG4gICAgdGhpcy5pbWFnZW4gPSBpbWFnZW47XG4gICAgdGhpcy5uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMubmFtZTtcbiAgICB0aGlzLmpvYkVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLmpvYjtcbiAgICB0aGlzLmltYWdlbkVsZW1lbnQuc3JjID0gdGhpcy5pbWFnZW47XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3BVcERlbGV0ZUltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihvdmVybGF5RWxlbWVudCkge1xuICAgIHN1cGVyKG92ZXJsYXlFbGVtZW50KTtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUZvcm1EZWxldGU7XG4gIH1cblxuICBzZXRIYW5kbGVJbWFnZUZvcm1EZWxldGUoaGFuZGxlQWN0aW9uKSB7XG4gICAgdGhpcy5faGFuZGxlSW1hZ2VGb3JtRGVsZXRlID0gaGFuZGxlQWN0aW9uO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI0Zvcm1DYXJkRGVsZXRlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VGb3JtRGVsZXRlKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtcyBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Iob3ZlcmxheUVsZW1lbnQsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihvdmVybGF5RWxlbWVudCk7XG4gICAgdGhpcy5oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLmZvcm1JbXB1dHMgPSBvdmVybGF5RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm92ZXJsYXlfX3RleHQtaW5wdXRcIik7XG4gICAgdGhpcy5mb3JtRWxlbWVudCA9IG92ZXJsYXlFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3ZlcmxheV9fZm9ybVwiKTtcbiAgICB0aGlzLmZvcm1CdXR0b24gPSBvdmVybGF5RWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIub3ZlcmxheV9fZm9ybS1zdWJtaXQtYnV0dG9uXCJcbiAgICApO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuZm9ybUltcHV0cy5tYXAoKGVJbnB1dCkgPT4ge1xuICAgICAgcmV0dXJuIGVJbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldEJ1dHRvblByb2Nlc2luZygpIHtcbiAgICB0aGlzLmZvcm1CdXR0b24udGV4dENvbnRlbnQgPSBcIkd1YXJkYW5kby4uLlwiO1xuICB9XG5cbiAgc2V0QnV0dG9uUmVzZXQoKSB7XG4gICAgdGhpcy5mb3JtQnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5mb3JtQnV0dG9uLmRhdGFzZXQudmFsb3JkZWZhdWx0O1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnNldEJ1dHRvblByb2Nlc2luZygpO1xuICAgICAgdGhpcy5oYW5kbGVGb3JtU3VibWl0KCk7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVPdmVybGF5KCkge1xuICAgIHN1cGVyLmhhbmRsZU92ZXJsYXkoKTtcbiAgICB0aGlzLmZvcm1JbXB1dHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgZWxlbWVudC52YWx1ZSA9IFwiXCI7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4vcGFnZS9pbmRleC5jc3NcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgeyBoYW5kbGVPdmVybGF5IH0gZnJvbSBcIi4vY29tcG9uZW50cy91dGlsc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi9jb21wb25lbnRzL2FwaVwiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuL2NvbXBvbmVudHMvVXNlckluZm9cIjtcbmltcG9ydCBQb3BVcERlbGV0ZUltYWdlIGZyb20gXCIuL2NvbXBvbmVudHMvUG9wVXBEZWxldGVJbWFnZVwiO1xuaW1wb3J0IFBvcHVwIGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtcyBmcm9tIFwiLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm1zXCI7XG4vL3ZhcmlhYmxlIHF1ZSBhbG1hY2VuYSBlbCBhcnJheSBkZSBvYmpldG9zIGNvbiBsYXMgNiBjYXJkcyBpbmljaWFsZXNcbmNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3ZlcmxheV9fZm9ybS1uYW1lXCIpLFxuICBqb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3ZlcmxheV9fZm9ybS1qb2JcIiksXG4gIG5hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50X19wcm9maWxlLXRpdGxlXCIpLFxuICBqb2JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50X19wcm9maWxlLWRlc2NyaXB0aW9uXCIpLFxuICBwbGFjZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNvdmVybGF5X19mb3JtLXBsYWNlXCIpLFxuICBpbWFnZVVybElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNvdmVybGF5X19mb3JtLWltYWdlVVJMXCIpLFxuICBhdmF0YXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3ZlcmxheV9fZm9ybS1hdmF0YXItdXBkYXRlXCIpLFxuICBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50X19lbGVtZW50cy1ncmlkXCIpLFxuICBpbWFnZW5FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50X19wcm9maWxlLWltYWdlXCIpLFxuICBhcGkgPSBuZXcgQXBpKHtcbiAgICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzX2NvaG9ydF8wM1wiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIGF1dGhvcml6YXRpb246IFwiMzYxYzI0OTctNzNiNC00ZGQxLTlhMDItMjIyNWZmNTk2M2I1XCIsXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9LFxuICB9KTtcbmxldCBuSWRVc2VyO1xuYXBpLmdldEluaXRpYWxVc2VyTWUoKS50aGVuKChkYXRhKSA9PiB7XG4gIGNvbnN0IG5hbWUgPSBkYXRhLm5hbWU7XG4gIGNvbnN0IGpvYiA9IGRhdGEuYWJvdXQ7XG4gIGNvbnN0IGltYWdlbiA9IGRhdGEuYXZhdGFyO1xuICBuSWRVc2VyID0gZGF0YS5faWQ7XG4gIGNvbnN0IGNVc2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gICAgbmFtZUVsZW1lbnQsXG4gICAgam9iRWxlbWVudCxcbiAgICBpbWFnZW5FbGVtZW50LFxuICAgIG5hbWUsXG4gICAgam9iLFxuICAgIGltYWdlbixcbiAgfSk7XG4gIGNVc2VySW5mby5zZXRVc2VySW5mbyhjVXNlckluZm8uZ2V0VXNlckluZm8oKSk7XG4gIHJlbmRlckdhbGxlcnkoKTtcbn0pO1xuXG5pbWFnZW5FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IG9wZW5BdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtcyhcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI292ZXJsYXlBdmF0YXJVcGRhdGVcIiksXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnVwZGF0ZVVzZXJNZUF2YXRhcihhdmF0YXJJbnB1dC52YWx1ZSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID0gZGF0YS5uYW1lO1xuICAgICAgICBjb25zdCBqb2IgPSBkYXRhLmFib3V0O1xuICAgICAgICBjb25zdCBpbWFnZW4gPSBkYXRhLmF2YXRhcjtcbiAgICAgICAgY29uc3QgY1VzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgICAgICAgICBuYW1lRWxlbWVudCxcbiAgICAgICAgICBqb2JFbGVtZW50LFxuICAgICAgICAgIGltYWdlbkVsZW1lbnQsXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBqb2IsXG4gICAgICAgICAgaW1hZ2VuLFxuICAgICAgICB9KTtcbiAgICAgICAgY1VzZXJJbmZvLnNldFVzZXJJbmZvKGNVc2VySW5mby5nZXRVc2VySW5mbygpKTtcbiAgICAgICAgb3BlbkF2YXRhclBvcHVwLmhhbmRsZU92ZXJsYXkoKTtcbiAgICAgICAgb3BlbkF2YXRhclBvcHVwLnNldEJ1dHRvblJlc2V0KCk7XG4gICAgICB9KTtcbiAgICB9XG4gICk7XG4gIG9wZW5BdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuICBvcGVuQXZhdGFyUG9wdXAuaGFuZGxlT3ZlcmxheSgpO1xufSk7XG5cbmRvY3VtZW50XG4gIC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlRm9ybVwiKVxuICAuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVJbWFnZUZvcm1TdWJtaXQpO1xuXG4vLyBhYnJpciBwb3AtdXAgZGUgbnVldm8gbHVnYXJcbmRvY3VtZW50XG4gIC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRfX3Byb2ZpbGUtYnV0dG9uLWFkZFwiKVxuICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBvcGVuTmV3SW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtcyhcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3ZlcmxheV9fY2FyZC1hZGRcIiksXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFwaS5wb3N0TmV3Q2FyZChwbGFjZUlucHV0LnZhbHVlLCBpbWFnZVVybElucHV0LnZhbHVlKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgY3JlYXRlQ2FyZCh7XG4gICAgICAgICAgICBjYXJkRGF0YTogZGF0YSxcbiAgICAgICAgICAgIGVDb250YWluZXI6IGdyaWQsXG4gICAgICAgICAgICBpZFVzZXI6IG5JZFVzZXIsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBvcGVuTmV3SW1hZ2VQb3B1cC5oYW5kbGVPdmVybGF5KCk7XG4gICAgICAgICAgb3Blbk5ld0ltYWdlUG9wdXAuc2V0QnV0dG9uUmVzZXQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgICBvcGVuTmV3SW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIG9wZW5OZXdJbWFnZVBvcHVwLmhhbmRsZU92ZXJsYXkoKTtcbiAgfSk7XG5cbmRvY3VtZW50XG4gIC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlQXZhdGFyXCIpXG4gIC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUF2YXRhclByb2ZpbGVGb3JtU3VibWl0KTtcblxuLy8gYWJyaXIgZm9ybXVsYXJpbyBkZWwgcGVyZmlsXG5kb2N1bWVudFxuICAucXVlcnlTZWxlY3RvcihcIi5jb250ZW50X19wcm9maWxlLWJ1dHRvbi1lZGl0XCIpXG4gIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IG9wZW5Qcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybXMoXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI292ZXJsYXlfX3Byb2ZpbGUtZWRpdFwiKSxcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXBpLnBhdGNoSW5pdGlhbFVzZXJNZShuYW1lSW5wdXQudmFsdWUsIGpvYklucHV0LnZhbHVlKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgY29uc3QgbmFtZSA9IGRhdGEubmFtZTtcbiAgICAgICAgICBjb25zdCBqb2IgPSBkYXRhLmFib3V0O1xuICAgICAgICAgIGNvbnN0IGltYWdlbiA9IGRhdGEuYXZhdGFyO1xuICAgICAgICAgIGNvbnN0IGNVc2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gICAgICAgICAgICBuYW1lRWxlbWVudCxcbiAgICAgICAgICAgIGpvYkVsZW1lbnQsXG4gICAgICAgICAgICBpbWFnZW5FbGVtZW50LFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGpvYixcbiAgICAgICAgICAgIGltYWdlbixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjVXNlckluZm8uc2V0VXNlckluZm8oY1VzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xuICAgICAgICAgIG9wZW5Qcm9maWxlUG9wdXAuaGFuZGxlT3ZlcmxheSgpO1xuICAgICAgICAgIG9wZW5Qcm9maWxlUG9wdXAuc2V0QnV0dG9uUmVzZXQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgICBvcGVuUHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgb3BlblByb2ZpbGVQb3B1cC5oYW5kbGVPdmVybGF5KCk7XG4gIH0pO1xuXG4vLyBwb3AtdXAgYWRkIG5ldyBwbGFjZVxuZnVuY3Rpb24gaGFuZGxlSW1hZ2VGb3JtU3VibWl0KGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbn1cblxuLy8gcG9wLXVwIHVwZGF0ZSBhdmF0YXJcblxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyUHJvZmlsZUZvcm1TdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBhcGkudXBkYXRlVXNlck1lQXZhdGFyKGF2YXRhcklucHV0LnZhbHVlKS50aGVuKChkYXRhKSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IGRhdGEubmFtZTtcbiAgICBjb25zdCBqb2IgPSBkYXRhLmFib3V0O1xuICAgIGNvbnN0IGltYWdlbiA9IGRhdGEuYXZhdGFyO1xuICAgIGNvbnN0IGNVc2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gICAgICBuYW1lRWxlbWVudCxcbiAgICAgIGpvYkVsZW1lbnQsXG4gICAgICBpbWFnZW5FbGVtZW50LFxuICAgICAgbmFtZSxcbiAgICAgIGpvYixcbiAgICAgIGltYWdlbixcbiAgICB9KTtcbiAgICBjVXNlckluZm8uc2V0VXNlckluZm8oY1VzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xuICAgIGhhbmRsZU92ZXJsYXkoXCIjb3ZlcmxheUF2YXRhclVwZGF0ZVwiKTtcbiAgfSk7XG59XG5cbi8vIGNvZGlnbyBkZSBsYSBnYWxlcmlhXG5mdW5jdGlvbiByZW5kZXJHYWxsZXJ5KCkge1xuICAvL29idGVuZXIgZ3JpZCBkZSBsYSBnYWxlcmlhXG4gIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRfX2VsZW1lbnRzLWdyaWRcIik7XG4gIGFwaS5nZXRJbml0aWFsQ2FyZHMoKS50aGVuKChkYXRhKSA9PiB7XG4gICAgLy9jcmVhIGVsIGdyaWQgZGUgbGEgZ2FsZXJpYVxuICAgIGRhdGEuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY3JlYXRlQ2FyZCh7XG4gICAgICAgIGNhcmREYXRhOiBpdGVtLFxuICAgICAgICBlQ29udGFpbmVyOiBncmlkLFxuICAgICAgICBpZFVzZXI6IG5JZFVzZXIsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGVuYWJsZVZhbGlkYXRpb24oKTtcbn1cblxuLy8gYcOxYWRlIGEgdG9kb3MgbG9zIGZvcm11bGFyaW9zIGxhIHZhbGlkYWNpw7NuIGRlIGxhIGNsYXNlIEZvcm1WYWxpZGF0b3JcbmZ1bmN0aW9uIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm92ZXJsYXlfX2Zvcm1cIikpO1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IG9Gb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gICAgICB7XG4gICAgICAgIGlucHV0OiBcIi5vdmVybGF5X190ZXh0LWlucHV0XCIsXG4gICAgICAgIGJ1dHRvbjogXCIub3ZlcmxheV9fZm9ybS1zdWJtaXQtYnV0dG9uXCIsXG4gICAgICB9LFxuICAgICAgZm9ybUVsZW1lbnRcbiAgICApO1xuICAgIG9Gb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfSk7XG59XG5cbmNvbnN0IG92ZXJsYXlDYXJkRGVsZXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNvdmVybGF5Q2FyZERlbGV0ZVwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cERlbGV0ZUltYWdlID0gbmV3IFBvcFVwRGVsZXRlSW1hZ2Uob3ZlcmxheUNhcmREZWxldGUpO1xucG9wdXBEZWxldGVJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKG9Qcm9wZXJ0aWVzKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBvUHJvcGVydGllcy5jYXJkRGF0YSxcbiAgICBvUHJvcGVydGllcy5jYXJkRGF0YS5vd25lci5faWQgPT0gb1Byb3BlcnRpZXMuaWRVc2VyLFxuICAgIChuSWRDYXJkKSA9PiB7XG4gICAgICBwb3B1cERlbGV0ZUltYWdlLmhhbmRsZU92ZXJsYXkoKTtcbiAgICAgIHBvcHVwRGVsZXRlSW1hZ2Uuc2V0SGFuZGxlSW1hZ2VGb3JtRGVsZXRlKCgpID0+IHtcbiAgICAgICAgYXBpLmRlbGV0ZUNhcmQobklkQ2FyZCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgY2FyZC5fZGVsZXRlQ2FyZCgpO1xuICAgICAgICAgIHBvcHVwRGVsZXRlSW1hZ2UuaGFuZGxlT3ZlcmxheSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgKG5JZENhcmQpID0+IHtcbiAgICAgIGFwaS5wdXRMaWtlQnV0dG9uQ2FyZChuSWRDYXJkKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGNhcmQubGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgICAgICBjYXJkLmhhbmRsZUFkZExpa2UoKTtcbiAgICAgICAgY2FyZC5zZXRDYXJkTGlrZXMoKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgKG5JZENhcmQpID0+IHtcbiAgICAgIGFwaS5kZWxldGVMaWtlQnV0dG9uQ2FyZChuSWRDYXJkKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGNhcmQubGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgICAgICBjYXJkLmhhbmRsZVJlbW92ZUxpa2UoKTtcbiAgICAgICAgY2FyZC5zZXRDYXJkTGlrZXMoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgKTtcbiAgLy9hZ3JlZ2FsbyBhbCBncmlkIGRlc2RlIGVsIG9iamV0byBjYXJkLCBsbGFtYW5kbyBhbCBtZXRvZG8gZ2VuZXJhdGVDYXJkXG4gIG9Qcm9wZXJ0aWVzLmVDb250YWluZXIuYXBwZW5kKGNhcmQuZ2VuZXJhdGVDYXJkKCkpO1xufVxuIl0sIm5hbWVzIjpbIlBvcHVwIiwib3ZlcmxheUVsZW1lbnQiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwia2V5IiwidmFsdWUiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJldmVudCIsIl9pZGVudGlmaWNhT3ZlcmxheUFiaWVydG8iLCJoYW5kbGVPdmVybGF5IiwiY2xhc3NOYW1lIiwiaW5kZXhPZiIsIl90aGlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiY2FsbCIsImxpbmsiLCJuYW1lIiwiaW1hZ2VQcmV2aWV3IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3JjIiwiYWx0IiwiaW1hZ2VDYXB0aW9uIiwidGV4dENvbnRlbnQiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiQ2FyZCIsImNhcmREYXRhIiwibXlDYXJkIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVMaWtlQWRkIiwiaGFuZGxlTGlrZURlbGV0ZSIsImxpa2VzIiwiYnRuTGlrZSIsInJlbW92ZSIsImFkZCIsImVsZW1lbnQiLCJfaWQiLCJidG5EZWxldGUiLCJjYXJkSW1hZ2UiLCJvbmNsaWNrIiwib3ZlcmxheUNhcmRQcmV2aWV3IiwiY2FyZExpa2VzIiwibGVuZ3RoIiwiY2FyZFRlbXBsYXRlIiwiY2FyZEl0ZW0iLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZFRpdGxlIiwic2V0Q2FyZExpa2VzIiwiX3NldEV2ZW50cyIsIkZvcm1WYWxpZGF0b3IiLCJvVmFsaWRhdGVJbnB1dHMiLCJlVmFsaWRhdGVGb3JtIiwiX2RlZmluZVByb3BlcnR5IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiY29uY2F0IiwiaWQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dExpc3QiLCJzb21lIiwiX2hhc0ludmFsaWRJbnB1dCIsImJ1dHRvbkVsZW1lbnQiLCJkaXNhYmxlZCIsImZ2IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0IiwiYnV0dG9uIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsImlkZW50aWZpY2FPdmVybGF5QWJpZXJ0byIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpdGVtIiwiQXBpIiwib3B0aW9ucyIsIl9iYXNlVVJMIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiYXZhdGFyIiwiVXNlckluZm8iLCJfcmVmIiwibmFtZUVsZW1lbnQiLCJqb2JFbGVtZW50IiwiaW1hZ2VuRWxlbWVudCIsImpvYiIsImltYWdlbiIsIl9yZWYyIiwiUG9wVXBEZWxldGVJbWFnZSIsIl9oYW5kbGVJbWFnZUZvcm1EZWxldGUiLCJoYW5kbGVBY3Rpb24iLCJfdGhpczIiLCJuSWRVc2VyIiwiUG9wdXBXaXRoRm9ybXMiLCJoYW5kbGVGb3JtU3VibWl0IiwiZm9ybUltcHV0cyIsImZvcm1FbGVtZW50IiwiZm9ybUJ1dHRvbiIsIm1hcCIsImVJbnB1dCIsImRhdGFzZXQiLCJ2YWxvcmRlZmF1bHQiLCJzZXRCdXR0b25Qcm9jZXNpbmciLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsInBsYWNlSW5wdXQiLCJpbWFnZVVybElucHV0IiwiYXZhdGFySW5wdXQiLCJncmlkIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImdldEluaXRpYWxVc2VyTWUiLCJkYXRhIiwiY1VzZXJJbmZvIiwic2V0VXNlckluZm8iLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsImNyZWF0ZUNhcmQiLCJlQ29udGFpbmVyIiwiaWRVc2VyIiwiZW5hYmxlVmFsaWRhdGlvbiIsInJlbmRlckdhbGxlcnkiLCJvcGVuQXZhdGFyUG9wdXAiLCJ1cGRhdGVVc2VyTWVBdmF0YXIiLCJzZXRCdXR0b25SZXNldCIsInNldEV2ZW50TGlzdGVuZXJzIiwib3Blbk5ld0ltYWdlUG9wdXAiLCJwb3N0TmV3Q2FyZCIsIm9wZW5Qcm9maWxlUG9wdXAiLCJwYXRjaEluaXRpYWxVc2VyTWUiLCJwb3B1cERlbGV0ZUltYWdlIiwib1Byb3BlcnRpZXMiLCJjYXJkIiwib3duZXIiLCJuSWRDYXJkIiwic2V0SGFuZGxlSW1hZ2VGb3JtRGVsZXRlIiwiZGVsZXRlQ2FyZCIsIl9kZWxldGVDYXJkIiwicHV0TGlrZUJ1dHRvbkNhcmQiLCJoYW5kbGVBZGRMaWtlIiwiZGVsZXRlTGlrZUJ1dHRvbkNhcmQiLCJoYW5kbGVSZW1vdmVMaWtlIiwiYXBwZW5kIiwiZ2VuZXJhdGVDYXJkIl0sInNvdXJjZVJvb3QiOiIifQ==