!function(){var e={209:function(){}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.overlayElement=t}var n,r;return n=e,(r=[{key:"handleOverlay",value:function(){this.overlayElement.classList.toggle("overlay__visible")}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this._identificaOverlayAbierto()&&this.handleOverlay()}},{key:"_identificaOverlayAbierto",value:function(){return this.overlayElement.className.indexOf("overlay__visible")>-1}},{key:"setEventListeners",value:function(){var e=this;this.overlayElement.addEventListener("click",(function(t){t.target!==e.overlayElement&&-1==t.target.className.indexOf("overlay__form-close-button")||e._identificaOverlayAbierto()&&e.handleOverlay()}))}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},a.apply(this,arguments)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(f,e);var t,n,r,c,s=(r=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(r);if(c){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function f(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),s.call(this,e)}return t=f,(n=[{key:"handleOverlay",value:function(e,t){this.imagePreview=document.querySelector(".overlay__preview-image"),this.imagePreview.src=e,this.imagePreview.alt=t,this.imageCaption=document.querySelector(".overlay__preview-caption"),this.imageCaption.textContent=t,a(l(f.prototype),"handleOverlay",this).call(this)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===s(o)?o:String(o)),r)}var o}var y=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cardData=t,this.link=t.link,this.name=t.name,this.likes=t.likes,this.myCard=n,this.handleDeleteClick=r,this.handleLikeAdd=o,this.handleLikeDelete=i}var t,n;return t=e,(n=[{key:"handleRemoveLike",value:function(){this.btnLike.classList.remove("content__elements__button-like-active")}},{key:"handleAddLike",value:function(){this.btnLike.classList.add("content__elements__button-like-active")}},{key:"_deleteCard",value:function(){this.element.remove()}},{key:"_setEvents",value:function(){var e=this;this.btnLike.addEventListener("click",(function(){e.btnLike.className.indexOf("content__elements__button-like-active")>-1?e.handleLikeDelete(e.cardData._id):e.handleLikeAdd(e.cardData._id)})),this.btnDelete.addEventListener("click",(function(){e.handleDeleteClick(e.cardData._id)})),this.cardImage.onclick=function(){var t=document.querySelector("#overlayCardPreview");new c(t).handleOverlay(e.link,e.name)}}},{key:"setCardLikes",value:function(){this.cardLikes.textContent=this.likes.length}},{key:"generateCard",value:function(){var e=document.querySelector(".card__template");return this.cardItem=e.content.cloneNode(!0),this.element=this.cardItem.querySelector(".elements"),this.cardImage=this.element.querySelector(".content__elements-image"),this.cardTitle=this.element.querySelector(".content__elements-title"),this.cardLikes=this.element.querySelector(".content__elements__numbers-like"),this.btnLike=this.element.querySelector(".content__elements__button-like"),this.btnDelete=this.cardItem.querySelector(".content__elements__delete-button"),this.myCard||this.btnDelete.remove(),this.cardImage.src=this.link,this.cardTitle.textContent=this.name,this.setCardLikes(),this._setEvents(),this.element}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function d(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===m(t)?t:String(t)}var b=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"_showInputError",(function(e,t){r.errorElement=r.eValidateForm.querySelector(".".concat(e.id,"-error")),e.classList.add("form__input_type_error"),r.errorElement.textContent=t,r.errorElement.classList.add("form__input-error_active")})),d(this,"_hideInputError",(function(e){r.errorElement=r.eValidateForm.querySelector(".".concat(e.id,"-error")),e.classList.remove("form__input_type_error"),r.errorElement.classList.remove("form__input-error_active"),r.errorElement.textContent=""})),d(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e,e.validationMessage)})),d(this,"_hasInvalidInput",(function(){return r.inputList.some((function(e){return!e.validity.valid}))})),d(this,"_toggleButtonState",(function(){r._hasInvalidInput()?(r.buttonElement.classList.add("overlay__form-button-disabled"),r.buttonElement.disabled=!0):(r.buttonElement.classList.remove("overlay__form-button-disabled"),r.buttonElement.disabled=!1)})),d(this,"_setEventListeners",(function(){var e=r;r.inputList=Array.from(r.eValidateForm.querySelectorAll(r.oValidateInputs.input)),r.buttonElement=r.eValidateForm.querySelector(r.oValidateInputs.button),r._toggleButtonState(),r.inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))})),this.oValidateInputs=t,this.eValidateForm=n}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){this.eValidateForm.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),h=n(209);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseURL=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_handleFetch",value:function(e,t,n){return fetch(this._baseURL+e,{method:t,headers:this._headers,body:n}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"getInitialCards",value:function(){return this._handleFetch("/cards")}},{key:"getInitialUserMe",value:function(){return this._handleFetch("/users/me")}},{key:"patchInitialUserMe",value:function(e,t){return this._handleFetch("/users/me","PATCH",JSON.stringify({name:e,about:t}))}},{key:"postNewCard",value:function(e,t){return this._handleFetch("/cards","POST",JSON.stringify({name:e,link:t}))}},{key:"deleteCard",value:function(e){return this._handleFetch("/cards/"+e,"DELETE")}},{key:"putLikeButtonCard",value:function(e){return this._handleFetch("/cards/likes/"+e,"PUT")}},{key:"deleteLikeButtonCard",value:function(e){return this._handleFetch("/cards/likes/"+e,"DELETE")}},{key:"updateUserMeAvatar",value:function(e){return this._handleFetch("/users/me/avatar","PATCH",JSON.stringify({avatar:e}))}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===E(o)?o:String(o)),r)}var o}var k=function(){function e(t){var n=t.nameElement,r=t.jobElement,o=t.imagenElement,i=t.name,a=t.job,u=t.imagen;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nameElement=n,this.jobElement=r,this.imagenElement=o,this.name=i,this.job=a,this.imagen=u}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this.name,job:this.job,imagen:this.imagen}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job,r=e.imagen;this.name=t,this.job=n,this.imagen=r,this.nameElement.textContent=this.name,this.jobElement.textContent=this.job,this.imagenElement.src=this.imagen}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===O(o)?o:String(o)),r)}var o}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},P.apply(this,arguments)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._handleImageFormDelete,t.formButton=e.querySelector(".overlay__form-submit-button"),t}return t=a,(n=[{key:"setButtonProcesing",value:function(){this.formButton.textContent="Guardando..."}},{key:"setButtonReset",value:function(){this.formButton.textContent=this.formButton.dataset.valordefault}},{key:"setHandleImageFormDelete",value:function(e){this._handleImageFormDelete=e}},{key:"setEventListeners",value:function(){var e=this;P(C(a.prototype),"setEventListeners",this).call(this),document.querySelector("#FormCardDelete").addEventListener("submit",(function(){e.setButtonProcesing(),e._handleImageFormDelete()}))}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(r);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===q(o)?o:String(o)),r)}var o}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(this,arguments)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var U,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e)).handleFormSubmit=t,n.formImputs=e.querySelectorAll(".overlay__text-input"),n.formElement=e.querySelector(".overlay__form"),n.formButton=e.querySelector(".overlay__form-submit-button"),n}return t=a,(n=[{key:"_getInputValues",value:function(){this.formImputs.map((function(e){return e.value}))}},{key:"setButtonProcesing",value:function(){this.formButton.textContent="Guardando..."}},{key:"setButtonReset",value:function(){this.formButton.textContent=this.formButton.dataset.valordefault}},{key:"setEventListeners",value:function(){var e=this;D(T(a.prototype),"setEventListeners",this).call(this),this.formElement.addEventListener("submit",(function(t){t.preventDefault(),e.setButtonProcesing(),e.handleFormSubmit()}))}},{key:"handleOverlay",value:function(){D(T(a.prototype),"handleOverlay",this).call(this),this.formImputs.forEach((function(e){e.value=""}))}}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(r),F=document.querySelector("#overlay__form-name"),A=document.querySelector("#overlay__form-job"),V=document.querySelector(".content__profile-title"),N=document.querySelector(".content__profile-description"),M=document.querySelector("#overlay__form-place"),H=document.querySelector("#overlay__form-imageURL"),J=document.querySelector("#overlay__form-avatar-update"),G=document.querySelector(".content__elements-grid"),z=document.querySelector(".content__profile-image"),K=new S({baseUrl:"https://around.nomoreparties.co/v1/web_es_cohort_03",headers:{authorization:"361c2497-73b4-4dd1-9a02-2225ff5963b5","Content-Type":"application/json"}});K.getInitialUserMe().then((function(e){var t=e.name,n=e.about,r=e.avatar;U=e._id;var o=new k({nameElement:V,jobElement:N,imagenElement:z,name:t,job:n,imagen:r});o.setUserInfo(o.getUserInfo()),function(){var e=document.querySelector(".content__elements-grid");K.getInitialCards().then((function(t){t.forEach((function(t){Z({cardData:t,eContainer:e,idUser:U})}))})),Array.from(document.querySelectorAll(".overlay__form")).forEach((function(e){new b({input:".overlay__text-input",button:".overlay__form-submit-button"},e).enableValidation()}))}()}));var Q=new x(document.querySelector("#overlayAvatarUpdate"),(function(){K.updateUserMeAvatar(J.value).then((function(e){var t=e.name,n=e.about,r=e.avatar,o=new k({nameElement:V,jobElement:N,imagenElement:z,name:t,job:n,imagen:r});o.setUserInfo(o.getUserInfo()),Q.handleOverlay(),Q.setButtonReset()}))}));Q.setEventListeners(),z.addEventListener("click",(function(){Q.handleOverlay()})),document.querySelector("#imageForm").addEventListener("submit",(function(e){e.preventDefault()}));var W=new x(document.querySelector("#overlay__card-add"),(function(){K.postNewCard(M.value,H.value).then((function(e){Z({cardData:e,eContainer:G,idUser:U}),W.handleOverlay(),W.setButtonReset()}))}));W.setEventListeners(),document.querySelector(".content__profile-button-add").addEventListener("click",(function(){W.handleOverlay()})),document.querySelector("#imageAvatar").addEventListener("submit",(function(e){e.preventDefault(),K.updateUserMeAvatar(J.value).then((function(e){var t=e.name,n=e.about,r=e.avatar,o=new k({nameElement:V,jobElement:N,imagenElement:z,name:t,job:n,imagen:r});o.setUserInfo(o.getUserInfo()),(0,h.handleOverlay)("#overlayAvatarUpdate")}))}));var X=new x(document.querySelector("#overlay__profile-edit"),(function(){K.patchInitialUserMe(F.value,A.value).then((function(e){var t=e.name,n=e.about,r=e.avatar,o=new k({nameElement:V,jobElement:N,imagenElement:z,name:t,job:n,imagen:r});o.setUserInfo(o.getUserInfo()),X.handleOverlay(),X.setButtonReset()}))}));X.setEventListeners(),document.querySelector(".content__profile-button-edit").addEventListener("click",(function(){X.handleOverlay()}));var Y=new I(document.querySelector("#overlayCardDelete"));function Z(e){var t=new y(e.cardData,e.cardData.owner._id==e.idUser,(function(e){Y.handleOverlay(),Y.setHandleImageFormDelete((function(){K.deleteCard(e).then((function(){t._deleteCard(),Y.handleOverlay(),Y.setButtonReset()}))}))}),(function(e){K.putLikeButtonCard(e).then((function(e){t.likes=e.likes,t.handleAddLike(),t.setCardLikes()}))}),(function(e){K.deleteLikeButtonCard(e).then((function(e){t.likes=e.likes,t.handleRemoveLike(),t.setCardLikes()}))}));e.eContainer.prepend(t.generateCard())}Y.setEventListeners()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SywwQkFBeUIsV0FDeEMzQixFQUFJNEIsV0FBV0YsR0FBU3BFLE1BQUssV0FDM0JrRSxFQUFLSyxjQUNMUCxFQUFpQnpKLGdCQUNqQnlKLEVBQWlCTixnQkFDbkIsR0FDRixHQUNGLElBQ0EsU0FBQ1UsR0FDQzFCLEVBQUk4QixrQkFBa0JKLEdBQVNwRSxNQUFLLFNBQUM2QyxHQUNuQ3FCLEVBQUs5SCxNQUFReUcsRUFBS3pHLE1BQ2xCOEgsRUFBS08sZ0JBQ0xQLEVBQUs3RyxjQUNQLEdBQ0YsSUFDQSxTQUFDK0csR0FDQzFCLEVBQUlnQyxxQkFBcUJOLEdBQVNwRSxNQUFLLFNBQUM2QyxHQUN0Q3FCLEVBQUs5SCxNQUFReUcsRUFBS3pHLE1BQ2xCOEgsRUFBS1MsbUJBQ0xULEVBQUs3RyxjQUNQLEdBQ0YsSUFHRjRHLEVBQVliLFdBQVd3QixRQUFRVixFQUFLVyxlQUN0QyxDQWpDQWIsRUFBaUJMLG1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AuaW8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AuaW8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC5pby8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLmlvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC5pby8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AuaW8vLi9zcmMvY29tcG9uZW50cy9hcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AuaW8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC5pby8uL3NyYy9jb21wb25lbnRzL1BvcFVwRGVsZXRlSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AuaW8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3Jtcy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC5pby8uL3NyYy9wYWdlL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKG92ZXJsYXlFbGVtZW50KSB7XG4gICAgdGhpcy5vdmVybGF5RWxlbWVudCA9IG92ZXJsYXlFbGVtZW50O1xuICB9XG5cbiAgaGFuZGxlT3ZlcmxheSgpIHtcbiAgICB0aGlzLm92ZXJsYXlFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJvdmVybGF5X192aXNpYmxlXCIpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5faWRlbnRpZmljYU92ZXJsYXlBYmllcnRvKCkgPyB0aGlzLmhhbmRsZU92ZXJsYXkoKSA6IG51bGw7XG4gICAgfVxuICB9XG5cbiAgX2lkZW50aWZpY2FPdmVybGF5QWJpZXJ0bygpIHtcbiAgICByZXR1cm4gdGhpcy5vdmVybGF5RWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZihcIm92ZXJsYXlfX3Zpc2libGVcIikgPiAtMTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMub3ZlcmxheUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBldmVudC50YXJnZXQgIT09IHRoaXMub3ZlcmxheUVsZW1lbnQgJiZcbiAgICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKFwib3ZlcmxheV9fZm9ybS1jbG9zZS1idXR0b25cIikgPT0gLTFcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9pZGVudGlmaWNhT3ZlcmxheUFiaWVydG8oKSA/IHRoaXMuaGFuZGxlT3ZlcmxheSgpIDogbnVsbDtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Iob3ZlcmxheUVsZW1lbnQpIHtcbiAgICBzdXBlcihvdmVybGF5RWxlbWVudCk7XG4gIH1cblxuICBoYW5kbGVPdmVybGF5KGxpbmssIG5hbWUpIHtcbiAgICB0aGlzLmltYWdlUHJldmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3ZlcmxheV9fcHJldmlldy1pbWFnZVwiKTtcbiAgICB0aGlzLmltYWdlUHJldmlldy5zcmMgPSBsaW5rO1xuICAgIHRoaXMuaW1hZ2VQcmV2aWV3LmFsdCA9IG5hbWU7XG4gICAgdGhpcy5pbWFnZUNhcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm92ZXJsYXlfX3ByZXZpZXctY2FwdGlvblwiKTtcbiAgICB0aGlzLmltYWdlQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgc3VwZXIuaGFuZGxlT3ZlcmxheSgpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4vUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGNhcmREYXRhLFxuICAgIG15Q2FyZCxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVMaWtlQWRkLFxuICAgIGhhbmRsZUxpa2VEZWxldGVcbiAgKSB7XG4gICAgdGhpcy5jYXJkRGF0YSA9IGNhcmREYXRhO1xuICAgIHRoaXMubGluayA9IGNhcmREYXRhLmxpbms7XG4gICAgdGhpcy5uYW1lID0gY2FyZERhdGEubmFtZTtcbiAgICB0aGlzLmxpa2VzID0gY2FyZERhdGEubGlrZXM7XG4gICAgdGhpcy5teUNhcmQgPSBteUNhcmQ7XG4gICAgdGhpcy5oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xuICAgIHRoaXMuaGFuZGxlTGlrZUFkZCA9IGhhbmRsZUxpa2VBZGQ7XG4gICAgdGhpcy5oYW5kbGVMaWtlRGVsZXRlID0gaGFuZGxlTGlrZURlbGV0ZTtcbiAgfVxuXG4gIGhhbmRsZVJlbW92ZUxpa2UoKSB7XG4gICAgdGhpcy5idG5MaWtlLmNsYXNzTGlzdC5yZW1vdmUoXCJjb250ZW50X19lbGVtZW50c19fYnV0dG9uLWxpa2UtYWN0aXZlXCIpO1xuICB9XG5cbiAgaGFuZGxlQWRkTGlrZSgpIHtcbiAgICB0aGlzLmJ0bkxpa2UuY2xhc3NMaXN0LmFkZChcImNvbnRlbnRfX2VsZW1lbnRzX19idXR0b24tbGlrZS1hY3RpdmVcIik7XG4gIH1cblxuICBfZGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XG4gIH1cblxuICBfc2V0RXZlbnRzKCkge1xuICAgIHRoaXMuYnRuTGlrZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmJ0bkxpa2UuY2xhc3NOYW1lLmluZGV4T2YoXG4gICAgICAgICAgXCJjb250ZW50X19lbGVtZW50c19fYnV0dG9uLWxpa2UtYWN0aXZlXCJcbiAgICAgICAgKSA+IC0xXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5oYW5kbGVMaWtlRGVsZXRlKHRoaXMuY2FyZERhdGEuX2lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGFuZGxlTGlrZUFkZCh0aGlzLmNhcmREYXRhLl9pZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmJ0bkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVEZWxldGVDbGljayh0aGlzLmNhcmREYXRhLl9pZCk7XG4gICAgfSk7XG4gICAgdGhpcy5jYXJkSW1hZ2Uub25jbGljayA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG92ZXJsYXlDYXJkUHJldmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3ZlcmxheUNhcmRQcmV2aWV3XCIpO1xuICAgICAgY29uc3QgcG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShvdmVybGF5Q2FyZFByZXZpZXcpO1xuICAgICAgcG9wdXBJbWFnZS5oYW5kbGVPdmVybGF5KHRoaXMubGluaywgdGhpcy5uYW1lKTtcbiAgICB9O1xuICB9XG5cbiAgc2V0Q2FyZExpa2VzKCkge1xuICAgIHRoaXMuY2FyZExpa2VzLnRleHRDb250ZW50ID0gdGhpcy5saWtlcy5sZW5ndGg7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190ZW1wbGF0ZVwiKTtcbiAgICB0aGlzLmNhcmRJdGVtID0gY2FyZFRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuY2FyZEl0ZW0ucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c1wiKTtcbiAgICB0aGlzLmNhcmRJbWFnZSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRfX2VsZW1lbnRzLWltYWdlXCIpO1xuICAgIHRoaXMuY2FyZFRpdGxlID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudF9fZWxlbWVudHMtdGl0bGVcIik7XG4gICAgdGhpcy5jYXJkTGlrZXMgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmNvbnRlbnRfX2VsZW1lbnRzX19udW1iZXJzLWxpa2VcIlxuICAgICk7XG4gICAgdGhpcy5idG5MaWtlID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5jb250ZW50X19lbGVtZW50c19fYnV0dG9uLWxpa2VcIlxuICAgICk7XG4gICAgdGhpcy5idG5EZWxldGUgPSB0aGlzLmNhcmRJdGVtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5jb250ZW50X19lbGVtZW50c19fZGVsZXRlLWJ1dHRvblwiXG4gICAgKTtcbiAgICBpZiAoIXRoaXMubXlDYXJkKSB0aGlzLmJ0bkRlbGV0ZS5yZW1vdmUoKTtcbiAgICB0aGlzLmNhcmRJbWFnZS5zcmMgPSB0aGlzLmxpbms7XG4gICAgdGhpcy5jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLm5hbWU7XG4gICAgdGhpcy5zZXRDYXJkTGlrZXMoKTtcbiAgICB0aGlzLl9zZXRFdmVudHMoKTtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Iob1ZhbGlkYXRlSW5wdXRzLCBlVmFsaWRhdGVGb3JtKSB7XG4gICAgdGhpcy5vVmFsaWRhdGVJbnB1dHMgPSBvVmFsaWRhdGVJbnB1dHM7XG4gICAgdGhpcy5lVmFsaWRhdGVGb3JtID0gZVZhbGlkYXRlRm9ybTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgIHRoaXMuZXJyb3JFbGVtZW50ID0gdGhpcy5lVmFsaWRhdGVGb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiKTtcbiAgICB0aGlzLmVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICB0aGlzLmVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlXCIpO1xuICB9O1xuXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICB0aGlzLmVycm9yRWxlbWVudCA9IHRoaXMuZVZhbGlkYXRlRm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIik7XG4gICAgdGhpcy5lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2lucHV0LWVycm9yX2FjdGl2ZVwiKTtcbiAgICB0aGlzLmVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH07XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfTtcblxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLmlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwib3ZlcmxheV9fZm9ybS1idXR0b24tZGlzYWJsZWRcIik7XG4gICAgICB0aGlzLmJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm92ZXJsYXlfX2Zvcm0tYnV0dG9uLWRpc2FibGVkXCIpO1xuICAgICAgdGhpcy5idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICBjb25zdCBmdiA9IHRoaXM7XG4gICAgdGhpcy5pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5lVmFsaWRhdGVGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5vVmFsaWRhdGVJbnB1dHMuaW5wdXQpXG4gICAgKTtcbiAgICB0aGlzLmJ1dHRvbkVsZW1lbnQgPSB0aGlzLmVWYWxpZGF0ZUZvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMub1ZhbGlkYXRlSW5wdXRzLmJ1dHRvblxuICAgICk7XG5cbiAgICAvL2Rlc2FjdGl2YSBlbCBib3RvbiBkZSBzdWJtaXRcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuXG4gICAgLy9hZ3JlZ2EgbG9zIGV2ZW50b3MgZGUgZXNjdWNoYSBhIGNhZGEgaW5wdXRcbiAgICB0aGlzLmlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBmdi5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIGZ2Ll90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLmVWYWxpZGF0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIC8vZXN0YWJsZWNlIGxvcyBldmVudG9zIGRlIGVzY3VjaGEgcGFyYSBjYWRhIGZvcm11bGFyaW9cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgLy8gY3VlcnBvIGRlbCBjb25zdHJ1Y3RvclxuICAgIHRoaXMuX2Jhc2VVUkwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gIF9oYW5kbGVGZXRjaChlbmRQb2ludCwgbWV0aG9kLCBib2R5KSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVUkwgKyBlbmRQb2ludCwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogYm9keSxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICAvLyBzaSBlbCBzZXJ2aWRvciBkZXZ1ZWx2ZSB1biBlcnJvciwgcmVjaGF6YSBlbCBwcm9taXNlXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hhbmRsZUZldGNoKFwiL2NhcmRzXCIpO1xuICB9XG5cbiAgZ2V0SW5pdGlhbFVzZXJNZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlRmV0Y2goXCIvdXNlcnMvbWVcIik7XG4gIH1cblxuICBwYXRjaEluaXRpYWxVc2VyTWUobmFtZSwgYWJvdXQpIHtcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlRmV0Y2goXG4gICAgICBcIi91c2Vycy9tZVwiLFxuICAgICAgXCJQQVRDSFwiLFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBhYm91dDogYWJvdXQsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBwb3N0TmV3Q2FyZChuYW1lLCBsaW5rKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hhbmRsZUZldGNoKFxuICAgICAgXCIvY2FyZHNcIixcbiAgICAgIFwiUE9TVFwiLFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlRmV0Y2goXCIvY2FyZHMvXCIgKyBjYXJkSWQsIFwiREVMRVRFXCIpO1xuICB9XG5cbiAgcHV0TGlrZUJ1dHRvbkNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hhbmRsZUZldGNoKFwiL2NhcmRzL2xpa2VzL1wiICsgY2FyZElkLCBcIlBVVFwiKTtcbiAgfVxuXG4gIGRlbGV0ZUxpa2VCdXR0b25DYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9oYW5kbGVGZXRjaChcIi9jYXJkcy9saWtlcy9cIiArIGNhcmRJZCwgXCJERUxFVEVcIik7XG4gIH1cblxuICB1cGRhdGVVc2VyTWVBdmF0YXIoYXZhdGFyKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hhbmRsZUZldGNoKFxuICAgICAgXCIvdXNlcnMvbWUvYXZhdGFyXCIsXG4gICAgICBcIlBBVENIXCIsXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyLFxuICAgICAgfSlcbiAgICApO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZUVsZW1lbnQsIGpvYkVsZW1lbnQsIGltYWdlbkVsZW1lbnQsIG5hbWUsIGpvYiwgaW1hZ2VuIH0pIHtcbiAgICB0aGlzLm5hbWVFbGVtZW50ID0gbmFtZUVsZW1lbnQ7XG4gICAgdGhpcy5qb2JFbGVtZW50ID0gam9iRWxlbWVudDtcbiAgICB0aGlzLmltYWdlbkVsZW1lbnQgPSBpbWFnZW5FbGVtZW50O1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5qb2IgPSBqb2I7XG4gICAgdGhpcy5pbWFnZW4gPSBpbWFnZW47XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4geyBuYW1lOiB0aGlzLm5hbWUsIGpvYjogdGhpcy5qb2IsIGltYWdlbjogdGhpcy5pbWFnZW4gfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgam9iLCBpbWFnZW4gfSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5qb2IgPSBqb2I7XG4gICAgdGhpcy5pbWFnZW4gPSBpbWFnZW47XG4gICAgdGhpcy5uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMubmFtZTtcbiAgICB0aGlzLmpvYkVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLmpvYjtcbiAgICB0aGlzLmltYWdlbkVsZW1lbnQuc3JjID0gdGhpcy5pbWFnZW47XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3BVcERlbGV0ZUltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihvdmVybGF5RWxlbWVudCkge1xuICAgIHN1cGVyKG92ZXJsYXlFbGVtZW50KTtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUZvcm1EZWxldGU7XG4gICAgdGhpcy5mb3JtQnV0dG9uID0gb3ZlcmxheUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLm92ZXJsYXlfX2Zvcm0tc3VibWl0LWJ1dHRvblwiXG4gICAgKTtcbiAgfVxuXG4gIHNldEJ1dHRvblByb2Nlc2luZygpIHtcbiAgICB0aGlzLmZvcm1CdXR0b24udGV4dENvbnRlbnQgPSBcIkd1YXJkYW5kby4uLlwiO1xuICB9XG5cbiAgc2V0QnV0dG9uUmVzZXQoKSB7XG4gICAgdGhpcy5mb3JtQnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5mb3JtQnV0dG9uLmRhdGFzZXQudmFsb3JkZWZhdWx0O1xuICB9XG5cbiAgc2V0SGFuZGxlSW1hZ2VGb3JtRGVsZXRlKGhhbmRsZUFjdGlvbikge1xuICAgIHRoaXMuX2hhbmRsZUltYWdlRm9ybURlbGV0ZSA9IGhhbmRsZUFjdGlvbjtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNGb3JtQ2FyZERlbGV0ZVwiKS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsICgpID0+IHtcbiAgICAgIHRoaXMuc2V0QnV0dG9uUHJvY2VzaW5nKCk7XG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUZvcm1EZWxldGUoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm1zIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihvdmVybGF5RWxlbWVudCwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKG92ZXJsYXlFbGVtZW50KTtcbiAgICB0aGlzLmhhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuZm9ybUltcHV0cyA9IG92ZXJsYXlFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIub3ZlcmxheV9fdGV4dC1pbnB1dFwiKTtcbiAgICB0aGlzLmZvcm1FbGVtZW50ID0gb3ZlcmxheUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5vdmVybGF5X19mb3JtXCIpO1xuICAgIHRoaXMuZm9ybUJ1dHRvbiA9IG92ZXJsYXlFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5vdmVybGF5X19mb3JtLXN1Ym1pdC1idXR0b25cIlxuICAgICk7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5mb3JtSW1wdXRzLm1hcCgoZUlucHV0KSA9PiB7XG4gICAgICByZXR1cm4gZUlucHV0LnZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0QnV0dG9uUHJvY2VzaW5nKCkge1xuICAgIHRoaXMuZm9ybUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiR3VhcmRhbmRvLi4uXCI7XG4gIH1cblxuICBzZXRCdXR0b25SZXNldCgpIHtcbiAgICB0aGlzLmZvcm1CdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLmZvcm1CdXR0b24uZGF0YXNldC52YWxvcmRlZmF1bHQ7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuc2V0QnV0dG9uUHJvY2VzaW5nKCk7XG4gICAgICB0aGlzLmhhbmRsZUZvcm1TdWJtaXQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZU92ZXJsYXkoKSB7XG4gICAgc3VwZXIuaGFuZGxlT3ZlcmxheSgpO1xuICAgIHRoaXMuZm9ybUltcHV0cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBlbGVtZW50LnZhbHVlID0gXCJcIjtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCB7IGhhbmRsZU92ZXJsYXkgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvYXBpXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm9cIjtcbmltcG9ydCBQb3BVcERlbGV0ZUltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcFVwRGVsZXRlSW1hZ2VcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtcyBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3Jtc1wiO1xuLy92YXJpYWJsZSBxdWUgYWxtYWNlbmEgZWwgYXJyYXkgZGUgb2JqZXRvcyBjb24gbGFzIDYgY2FyZHMgaW5pY2lhbGVzXG5jb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI292ZXJsYXlfX2Zvcm0tbmFtZVwiKSxcbiAgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI292ZXJsYXlfX2Zvcm0tam9iXCIpLFxuICBuYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudF9fcHJvZmlsZS10aXRsZVwiKSxcbiAgam9iRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudF9fcHJvZmlsZS1kZXNjcmlwdGlvblwiKSxcbiAgcGxhY2VJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3ZlcmxheV9fZm9ybS1wbGFjZVwiKSxcbiAgaW1hZ2VVcmxJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3ZlcmxheV9fZm9ybS1pbWFnZVVSTFwiKSxcbiAgYXZhdGFySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI292ZXJsYXlfX2Zvcm0tYXZhdGFyLXVwZGF0ZVwiKSxcbiAgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudF9fZWxlbWVudHMtZ3JpZFwiKSxcbiAgaW1hZ2VuRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudF9fcHJvZmlsZS1pbWFnZVwiKSxcbiAgYXBpID0gbmV3IEFwaSh7XG4gICAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc19jb2hvcnRfMDNcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICBhdXRob3JpemF0aW9uOiBcIjM2MWMyNDk3LTczYjQtNGRkMS05YTAyLTIyMjVmZjU5NjNiNVwiLFxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfSxcbiAgfSk7XG5sZXQgbklkVXNlcjtcbmFwaS5nZXRJbml0aWFsVXNlck1lKCkudGhlbigoZGF0YSkgPT4ge1xuICBjb25zdCBuYW1lID0gZGF0YS5uYW1lO1xuICBjb25zdCBqb2IgPSBkYXRhLmFib3V0O1xuICBjb25zdCBpbWFnZW4gPSBkYXRhLmF2YXRhcjtcbiAgbklkVXNlciA9IGRhdGEuX2lkO1xuICBjb25zdCBjVXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICAgIG5hbWVFbGVtZW50LFxuICAgIGpvYkVsZW1lbnQsXG4gICAgaW1hZ2VuRWxlbWVudCxcbiAgICBuYW1lLFxuICAgIGpvYixcbiAgICBpbWFnZW4sXG4gIH0pO1xuICBjVXNlckluZm8uc2V0VXNlckluZm8oY1VzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xuICByZW5kZXJHYWxsZXJ5KCk7XG59KTtcblxuY29uc3Qgb3BlbkF2YXRhclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm1zKFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI292ZXJsYXlBdmF0YXJVcGRhdGVcIiksXG4gIGZ1bmN0aW9uICgpIHtcbiAgICBhcGkudXBkYXRlVXNlck1lQXZhdGFyKGF2YXRhcklucHV0LnZhbHVlKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gZGF0YS5uYW1lO1xuICAgICAgY29uc3Qgam9iID0gZGF0YS5hYm91dDtcbiAgICAgIGNvbnN0IGltYWdlbiA9IGRhdGEuYXZhdGFyO1xuICAgICAgY29uc3QgY1VzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgICAgICAgbmFtZUVsZW1lbnQsXG4gICAgICAgIGpvYkVsZW1lbnQsXG4gICAgICAgIGltYWdlbkVsZW1lbnQsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGpvYixcbiAgICAgICAgaW1hZ2VuLFxuICAgICAgfSk7XG4gICAgICBjVXNlckluZm8uc2V0VXNlckluZm8oY1VzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xuICAgICAgb3BlbkF2YXRhclBvcHVwLmhhbmRsZU92ZXJsYXkoKTtcbiAgICAgIG9wZW5BdmF0YXJQb3B1cC5zZXRCdXR0b25SZXNldCgpO1xuICAgIH0pO1xuICB9XG4pO1xub3BlbkF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmltYWdlbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgb3BlbkF2YXRhclBvcHVwLmhhbmRsZU92ZXJsYXkoKTtcbn0pO1xuXG5kb2N1bWVudFxuICAucXVlcnlTZWxlY3RvcihcIiNpbWFnZUZvcm1cIilcbiAgLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlSW1hZ2VGb3JtU3VibWl0KTtcblxuY29uc3Qgb3Blbk5ld0ltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybXMoXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3ZlcmxheV9fY2FyZC1hZGRcIiksXG4gIGZ1bmN0aW9uICgpIHtcbiAgICBhcGkucG9zdE5ld0NhcmQocGxhY2VJbnB1dC52YWx1ZSwgaW1hZ2VVcmxJbnB1dC52YWx1ZSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY3JlYXRlQ2FyZCh7XG4gICAgICAgIGNhcmREYXRhOiBkYXRhLFxuICAgICAgICBlQ29udGFpbmVyOiBncmlkLFxuICAgICAgICBpZFVzZXI6IG5JZFVzZXIsXG4gICAgICB9KTtcblxuICAgICAgb3Blbk5ld0ltYWdlUG9wdXAuaGFuZGxlT3ZlcmxheSgpO1xuICAgICAgb3Blbk5ld0ltYWdlUG9wdXAuc2V0QnV0dG9uUmVzZXQoKTtcbiAgICB9KTtcbiAgfVxuKTtcbm9wZW5OZXdJbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4vLyBhYnJpciBwb3AtdXAgZGUgbnVldm8gbHVnYXJcbmRvY3VtZW50XG4gIC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRfX3Byb2ZpbGUtYnV0dG9uLWFkZFwiKVxuICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBvcGVuTmV3SW1hZ2VQb3B1cC5oYW5kbGVPdmVybGF5KCk7XG4gIH0pO1xuXG5kb2N1bWVudFxuICAucXVlcnlTZWxlY3RvcihcIiNpbWFnZUF2YXRhclwiKVxuICAuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVBdmF0YXJQcm9maWxlRm9ybVN1Ym1pdCk7XG5cbi8vIGFicmlyIGZvcm11bGFyaW8gZGVsIHBlcmZpbFxuXG5jb25zdCBvcGVuUHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm1zKFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI292ZXJsYXlfX3Byb2ZpbGUtZWRpdFwiKSxcbiAgZnVuY3Rpb24gKCkge1xuICAgIGFwaS5wYXRjaEluaXRpYWxVc2VyTWUobmFtZUlucHV0LnZhbHVlLCBqb2JJbnB1dC52YWx1ZSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgbmFtZSA9IGRhdGEubmFtZTtcbiAgICAgIGNvbnN0IGpvYiA9IGRhdGEuYWJvdXQ7XG4gICAgICBjb25zdCBpbWFnZW4gPSBkYXRhLmF2YXRhcjtcbiAgICAgIGNvbnN0IGNVc2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gICAgICAgIG5hbWVFbGVtZW50LFxuICAgICAgICBqb2JFbGVtZW50LFxuICAgICAgICBpbWFnZW5FbGVtZW50LFxuICAgICAgICBuYW1lLFxuICAgICAgICBqb2IsXG4gICAgICAgIGltYWdlbixcbiAgICAgIH0pO1xuICAgICAgY1VzZXJJbmZvLnNldFVzZXJJbmZvKGNVc2VySW5mby5nZXRVc2VySW5mbygpKTtcbiAgICAgIG9wZW5Qcm9maWxlUG9wdXAuaGFuZGxlT3ZlcmxheSgpO1xuICAgICAgb3BlblByb2ZpbGVQb3B1cC5zZXRCdXR0b25SZXNldCgpO1xuICAgIH0pO1xuICB9XG4pO1xub3BlblByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5kb2N1bWVudFxuICAucXVlcnlTZWxlY3RvcihcIi5jb250ZW50X19wcm9maWxlLWJ1dHRvbi1lZGl0XCIpXG4gIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgIG9wZW5Qcm9maWxlUG9wdXAuaGFuZGxlT3ZlcmxheSgpO1xuICB9KTtcblxuLy8gcG9wLXVwIGFkZCBuZXcgcGxhY2VcbmZ1bmN0aW9uIGhhbmRsZUltYWdlRm9ybVN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG59XG5cbi8vIHBvcC11cCB1cGRhdGUgYXZhdGFyXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJQcm9maWxlRm9ybVN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIGFwaS51cGRhdGVVc2VyTWVBdmF0YXIoYXZhdGFySW5wdXQudmFsdWUpLnRoZW4oKGRhdGEpID0+IHtcbiAgICBjb25zdCBuYW1lID0gZGF0YS5uYW1lO1xuICAgIGNvbnN0IGpvYiA9IGRhdGEuYWJvdXQ7XG4gICAgY29uc3QgaW1hZ2VuID0gZGF0YS5hdmF0YXI7XG4gICAgY29uc3QgY1VzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgICAgIG5hbWVFbGVtZW50LFxuICAgICAgam9iRWxlbWVudCxcbiAgICAgIGltYWdlbkVsZW1lbnQsXG4gICAgICBuYW1lLFxuICAgICAgam9iLFxuICAgICAgaW1hZ2VuLFxuICAgIH0pO1xuICAgIGNVc2VySW5mby5zZXRVc2VySW5mbyhjVXNlckluZm8uZ2V0VXNlckluZm8oKSk7XG4gICAgaGFuZGxlT3ZlcmxheShcIiNvdmVybGF5QXZhdGFyVXBkYXRlXCIpO1xuICB9KTtcbn1cblxuLy8gY29kaWdvIGRlIGxhIGdhbGVyaWFcbmZ1bmN0aW9uIHJlbmRlckdhbGxlcnkoKSB7XG4gIC8vb2J0ZW5lciBncmlkIGRlIGxhIGdhbGVyaWFcbiAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudF9fZWxlbWVudHMtZ3JpZFwiKTtcbiAgYXBpLmdldEluaXRpYWxDYXJkcygpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAvL2NyZWEgZWwgZ3JpZCBkZSBsYSBnYWxlcmlhXG4gICAgZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBjcmVhdGVDYXJkKHtcbiAgICAgICAgY2FyZERhdGE6IGl0ZW0sXG4gICAgICAgIGVDb250YWluZXI6IGdyaWQsXG4gICAgICAgIGlkVXNlcjogbklkVXNlcixcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgZW5hYmxlVmFsaWRhdGlvbigpO1xufVxuXG4vLyBhw7FhZGUgYSB0b2RvcyBsb3MgZm9ybXVsYXJpb3MgbGEgdmFsaWRhY2nDs24gZGUgbGEgY2xhc2UgRm9ybVZhbGlkYXRvclxuZnVuY3Rpb24gZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIub3ZlcmxheV9fZm9ybVwiKSk7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3Qgb0Zvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgICAgIHtcbiAgICAgICAgaW5wdXQ6IFwiLm92ZXJsYXlfX3RleHQtaW5wdXRcIixcbiAgICAgICAgYnV0dG9uOiBcIi5vdmVybGF5X19mb3JtLXN1Ym1pdC1idXR0b25cIixcbiAgICAgIH0sXG4gICAgICBmb3JtRWxlbWVudFxuICAgICk7XG4gICAgb0Zvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn1cblxuY29uc3Qgb3ZlcmxheUNhcmREZWxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI292ZXJsYXlDYXJkRGVsZXRlXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwRGVsZXRlSW1hZ2UgPSBuZXcgUG9wVXBEZWxldGVJbWFnZShvdmVybGF5Q2FyZERlbGV0ZSk7XG5wb3B1cERlbGV0ZUltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQob1Byb3BlcnRpZXMpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIG9Qcm9wZXJ0aWVzLmNhcmREYXRhLFxuICAgIG9Qcm9wZXJ0aWVzLmNhcmREYXRhLm93bmVyLl9pZCA9PSBvUHJvcGVydGllcy5pZFVzZXIsXG4gICAgKG5JZENhcmQpID0+IHtcbiAgICAgIHBvcHVwRGVsZXRlSW1hZ2UuaGFuZGxlT3ZlcmxheSgpO1xuICAgICAgcG9wdXBEZWxldGVJbWFnZS5zZXRIYW5kbGVJbWFnZUZvcm1EZWxldGUoKCkgPT4ge1xuICAgICAgICBhcGkuZGVsZXRlQ2FyZChuSWRDYXJkKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBjYXJkLl9kZWxldGVDYXJkKCk7XG4gICAgICAgICAgcG9wdXBEZWxldGVJbWFnZS5oYW5kbGVPdmVybGF5KCk7XG4gICAgICAgICAgcG9wdXBEZWxldGVJbWFnZS5zZXRCdXR0b25SZXNldCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgKG5JZENhcmQpID0+IHtcbiAgICAgIGFwaS5wdXRMaWtlQnV0dG9uQ2FyZChuSWRDYXJkKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGNhcmQubGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgICAgICBjYXJkLmhhbmRsZUFkZExpa2UoKTtcbiAgICAgICAgY2FyZC5zZXRDYXJkTGlrZXMoKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgKG5JZENhcmQpID0+IHtcbiAgICAgIGFwaS5kZWxldGVMaWtlQnV0dG9uQ2FyZChuSWRDYXJkKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGNhcmQubGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgICAgICBjYXJkLmhhbmRsZVJlbW92ZUxpa2UoKTtcbiAgICAgICAgY2FyZC5zZXRDYXJkTGlrZXMoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgKTtcbiAgLy9hZ3JlZ2FsbyBhbCBncmlkIGRlc2RlIGVsIG9iamV0byBjYXJkLCBsbGFtYW5kbyBhbCBtZXRvZG8gZ2VuZXJhdGVDYXJkXG4gIG9Qcm9wZXJ0aWVzLmVDb250YWluZXIucHJlcGVuZChjYXJkLmdlbmVyYXRlQ2FyZCgpKTtcbn1cbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIlBvcHVwIiwib3ZlcmxheUVsZW1lbnQiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwia2V5IiwidmFsdWUiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJldmVudCIsIl9pZGVudGlmaWNhT3ZlcmxheUFiaWVydG8iLCJoYW5kbGVPdmVybGF5IiwiY2xhc3NOYW1lIiwiaW5kZXhPZiIsIl90aGlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiY2FsbCIsImxpbmsiLCJuYW1lIiwiaW1hZ2VQcmV2aWV3IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3JjIiwiYWx0IiwiaW1hZ2VDYXB0aW9uIiwidGV4dENvbnRlbnQiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiQ2FyZCIsImNhcmREYXRhIiwibXlDYXJkIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVMaWtlQWRkIiwiaGFuZGxlTGlrZURlbGV0ZSIsImxpa2VzIiwiYnRuTGlrZSIsInJlbW92ZSIsImFkZCIsImVsZW1lbnQiLCJfaWQiLCJidG5EZWxldGUiLCJjYXJkSW1hZ2UiLCJvbmNsaWNrIiwib3ZlcmxheUNhcmRQcmV2aWV3IiwiY2FyZExpa2VzIiwibGVuZ3RoIiwiY2FyZFRlbXBsYXRlIiwiY2FyZEl0ZW0iLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZFRpdGxlIiwic2V0Q2FyZExpa2VzIiwiX3NldEV2ZW50cyIsIkZvcm1WYWxpZGF0b3IiLCJvVmFsaWRhdGVJbnB1dHMiLCJlVmFsaWRhdGVGb3JtIiwiX2RlZmluZVByb3BlcnR5IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiY29uY2F0IiwiaWQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dExpc3QiLCJzb21lIiwiX2hhc0ludmFsaWRJbnB1dCIsImJ1dHRvbkVsZW1lbnQiLCJkaXNhYmxlZCIsImZ2IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0IiwiYnV0dG9uIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIkFwaSIsIm9wdGlvbnMiLCJfYmFzZVVSTCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJlbmRQb2ludCIsIm1ldGhvZCIsImJvZHkiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiX2hhbmRsZUZldGNoIiwiYWJvdXQiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiYXZhdGFyIiwiVXNlckluZm8iLCJfcmVmIiwibmFtZUVsZW1lbnQiLCJqb2JFbGVtZW50IiwiaW1hZ2VuRWxlbWVudCIsImpvYiIsImltYWdlbiIsIl9yZWYyIiwiUG9wVXBEZWxldGVJbWFnZSIsIl9oYW5kbGVJbWFnZUZvcm1EZWxldGUiLCJmb3JtQnV0dG9uIiwiZGF0YXNldCIsInZhbG9yZGVmYXVsdCIsImhhbmRsZUFjdGlvbiIsIl90aGlzMiIsInNldEJ1dHRvblByb2Nlc2luZyIsIm5JZFVzZXIiLCJQb3B1cFdpdGhGb3JtcyIsImhhbmRsZUZvcm1TdWJtaXQiLCJmb3JtSW1wdXRzIiwiZm9ybUVsZW1lbnQiLCJtYXAiLCJlSW5wdXQiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsInBsYWNlSW5wdXQiLCJpbWFnZVVybElucHV0IiwiYXZhdGFySW5wdXQiLCJncmlkIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImdldEluaXRpYWxVc2VyTWUiLCJkYXRhIiwiY1VzZXJJbmZvIiwic2V0VXNlckluZm8iLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsIml0ZW0iLCJjcmVhdGVDYXJkIiwiZUNvbnRhaW5lciIsImlkVXNlciIsImVuYWJsZVZhbGlkYXRpb24iLCJyZW5kZXJHYWxsZXJ5Iiwib3BlbkF2YXRhclBvcHVwIiwidXBkYXRlVXNlck1lQXZhdGFyIiwic2V0QnV0dG9uUmVzZXQiLCJzZXRFdmVudExpc3RlbmVycyIsIm9wZW5OZXdJbWFnZVBvcHVwIiwicG9zdE5ld0NhcmQiLCJvcGVuUHJvZmlsZVBvcHVwIiwicGF0Y2hJbml0aWFsVXNlck1lIiwicG9wdXBEZWxldGVJbWFnZSIsIm9Qcm9wZXJ0aWVzIiwiY2FyZCIsIm93bmVyIiwibklkQ2FyZCIsInNldEhhbmRsZUltYWdlRm9ybURlbGV0ZSIsImRlbGV0ZUNhcmQiLCJfZGVsZXRlQ2FyZCIsInB1dExpa2VCdXR0b25DYXJkIiwiaGFuZGxlQWRkTGlrZSIsImRlbGV0ZUxpa2VCdXR0b25DYXJkIiwiaGFuZGxlUmVtb3ZlTGlrZSIsInByZXBlbmQiLCJnZW5lcmF0ZUNhcmQiXSwic291cmNlUm9vdCI6IiJ9